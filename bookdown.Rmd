--- 
title: "Overleaf功能介绍"
author: "wang"
date: "`r Sys.Date()`"
documentclass: ctexbook
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
colorlinks: yes
lot: yes
lof: yes
geometry: [b5paper, tmargin=2.5cm, bmargin=2.5cm, lmargin=3.5cm, rmargin=2.5cm]
site: bookdown::bookdown_site
description: "Overleaf功能介绍"
github-repo: Ri0016/Overleaf-zh
#cover-image: images/cover.jpg
---

```{r setup, include=FALSE}
options(
  htmltools.dir.version = FALSE, formatR.indent = 2, width = 55, digits = 4
)

# 填上你需要用到的包，如 c('ggplot2', 'dplyr')
lapply(c(), function(pkg) {
  if (system.file(package = pkg) == '') install.packages(pkg)
})
```

# 前言 {-}

Overleaf是什么

https://www.overleaf.com/

简单讲,Overleaf是一个在线的LaTeX环境.
不需要在自己电脑上安装,通过网页访问即可编写LaTeX.


如果还不了解LaTeX,可以先阅读下面的链接:

LaTeX的介绍:
https://liam.page/2014/09/08/latex-introduction/


当然,Overleaf提供的服务远不止此.

借助Overleaf,可以实现多人合作编辑,无缝同步进度,追踪文件修改历史.






## 致谢 {-}

这个页面的建立基于 **knitr**\index{knitr} [@xie2015] 和 **bookdown**\index{bookdown} [@R-bookdown]。以下是我的 R 进程信息：

```{r}
sessionInfo()
```


<!--chapter:end:index.Rmd-->

# 作者简介 {#author .unnumbered}

上不了厅堂，下得了厨房。敲得了代码，逮得住蟑螂。

<!--chapter:end:00-author.Rmd-->

\mainmatter

# Overleaf写作流程 {#intro}

这一章简单介绍在Overleaf中撰写论文的流程.

## 注册账号

https://cn.overleaf.com/project

目前并不能直接注册,需要借助梯子.
但是注册后可以直接访问(但是速度并不是很理想).


## 创建项目


![新建项目](/figure/newproject)

登陆后,在左上角可以看到创建新项目

出了空白项目和上传项目之外,Overleaf有丰富的模板资源:
https://cn.overleaf.com/latex/templates

另外,还支持从GitHub导入模板.

## 个人写作

项目建好后,界面和其他的tex客户端几乎没有区别.
左侧是tex的源文件,右侧是生成的pdf文件.




## 邀请合作者

右上角可以看到一个 共享 的功能,点击可以通过链接分享项或者通过账号邀请(免费用户只有1个合作者限制).

接下来就可以一起编写文章.

## 论文投递

论文写完后,右上角有 submit 功能,可以直接提交到期刊(现在已接入的较少).



<!--chapter:end:01-introduction.Rmd-->

# 特色功能展示

## 本地和服务器同步


## 合作编辑


## 历史版本


## 参考文献整合


<!--chapter:end:02-特色功能.Rmd-->

# 缺陷和不足


## 订阅费用


https://www.overleaf.com/user/subscription/plans





## 常用符号少


<!--chapter:end:03-缺陷和不足.Rmd-->

# 示例项目


这里通过链接分享一些示例项目.

beamer的示例项目:
https://cn.overleaf.com/read/tpzfjkmsfwkw


<!--chapter:end:04-示例项目.Rmd-->

# 其他工具

这里介绍一些可以提高LaTeX写作效率的其他工具

## 公式
mathpix

可以很方便的将图片公式转成LaTex形式,手写笔记不太乱的话也是可以识别的.

https://mathpix.com

## 表格

在LaTeX中插入表格并不是很简单的一件事,尤其是当表头需要合并单元格时.
这里介绍一些可以提高输入表格效率的工具.

### xtable包

在R中进行模拟时,将结果输出至LaTeX可以利用这个包中的xtable函数.

https://cran.r-project.org/web/packages/xtable/index.html

```{r}
xtable::xtable(matrix(rnorm(12),3,4))
```

这样我们直接粘贴到LaTeX中就可以了.

但是,这还不够.每次都要复制粘贴仍然很麻烦,而且如果表格的行名、列名有特定的格式,并不能直接粘贴结果(macOS下可以支持选择矩形区域修改).

我们可以利用LaTeX的\\input{}指令,完成更酷的操作.

大致流程就是在R中将xtable的输出结果写入文本文件"tableXXXX.tex",然后在tex中需要插入表格的地方\\input{tableXXXX.tex}.

这样我们每次要把R新计算出来的表格更新到tex中,只需要重新编译一次即可.

关于复杂表头的设计,可以参考这个回答:

https://stackoverflow.com/questions/15036754/r-package-xtable-how-to-create-a-latextable-with-multiple-rows-and-columns-from

比如这样:

```{r}
#https://stackoverflow.com/questions/15036754/r-package-xtable-how-to-create-a-latextable-with-multiple-rows-and-columns-from

#setwd()

library(xtable)

C = (rep(0:5,2))
n = rep(c(200,300),each=6)

data = matrix(runif(6*12),12,6)
data = round(data,3)
df =data.frame(c(replicate(6,"200"),replicate(6,"300")),C,cbind(data[,1:3],rep("",12),data[,4:6]))
# only needed if first column consists of numbers
df[[1]] <- as.character(df[[1]])
rle.lengths <- rle(df[[1]])$lengths
first <- !duplicated(df[[1]])
df[[1]][!first] <- ""

# define appearance of \multirow
df[[1]][first] <-
  paste0("\\multirow{", rle.lengths, "}{*}{{", df[[1]][first], "}}")
addtorow <- list()
addtorow$pos <- list(0, 0, 0)
addtorow$command <- c("\\multirow{2}*{$n$} &\\multirow{2}*{$C$}& \\multicolumn{3}{c}{The homoscedastic cases}&& \\multicolumn{3}{c}{The heteroscedastic cases} \\\\\n",
                      "	\\cline{3-5}     \\cline{7-9} ",
                      "&& $\\tau=0.25$ & $\\tau=0.5$ & $\\tau=0.75$ && $\\tau=0.25$ & $\\tau=0.5$ & $\\tau=0.75$ \\\\\n")
xtable(df,digits = c(0,0,0,rep(2,3),0,rep(2,3))
       ,caption = "测试"
       ,align = "cccccccccc"  # align and put a vertical line (first "l" again represents column of row numbers)
       ,label = "tab::test"
       ,hline.after=NULL, #We don't need hline; we use booktabs
       floating=TRUE # whether \begin{Table} should be created (TRUE) or not (FALSE)
) -> outtable

#cat(
  print(outtable,
          hline.after = c(-1,0,nrow(outtable),nrow(outtable)-6),
          #booktabs = TRUE,
          sanitize.text.function = force # Important to treat content of first column as latex function
          ,caption.placement = "top" #"top", NULL
          ,add.to.row = addtorow,include.colnames = FALSE,include.rownames = FALSE)
    #,file = "table.tex")


```

也支持生成html的形式.

### Excel2LaTeX

可以在Excel中合并好单元格,导出tex的表格.

https://github.com/krlmlr/Excel2LaTeX/releases

### LaTeX中合并单元格

http://www.tablesgenerator.com/#


<!--chapter:end:05-其他工具.Rmd-->

# 一些模板

## 学位论文模板

https://github.com/ustctug/awesome-latex-thesis



## ElegantLaTeX

https://github.com/ElegantLaTeX

## beamer主题


http://deic.uab.es/~iblanes/beamer_gallery/index_by_theme.html

https://www.namsu.de/latex/themes/outer.html



<!--chapter:end:06-模板.Rmd-->

\cleardoublepage 

# (APPENDIX) 附录 {-}

# 余音绕梁 {#sound}

呐，到这里朕的书差不多写完了，但还有几句话要交待，所以开个附录，再啰嗦几句，各位客官稍安勿躁、扶稳坐好。

<!--chapter:end:07-hmm.Rmd-->

`r if (knitr:::is_html_output()) '# 参考文献 {#references .unnumbered}'`

```{r include=FALSE}
# 自动生成 R 包的参考文献
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
```


<!--chapter:end:08-references.Rmd-->

